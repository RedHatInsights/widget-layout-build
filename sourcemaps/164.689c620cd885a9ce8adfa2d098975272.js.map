{"version":3,"file":"js/164.ed40ccb5209976d887fd.js","mappings":"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","sources":["webpack:///./src/Components/DnDLayout/GridTile.tsx","webpack:///./src/Components/Widgets/widgetTypes.ts","webpack:///./src/state/templateAtom.ts","webpack:///./src/Components/DnDLayout/GridLayout.tsx","webpack:///./src/Components/Icons/HeaderIcon.tsx","webpack:///./src/Components/Icons/images/RhelIcon.tsx","webpack:///./src/Components/Icons/images/OpenShiftIcon.tsx","webpack:///./src/Components/Icons/images/EdgeIcon.tsx","webpack:///./src/Components/Icons/images/AnsibleIcon.tsx","webpack:///./src/Components/Widgets/widgetDefaults.tsx","webpack:///./src/api/dashboard-templates.ts","webpack:///./src/hooks/useLoaded.ts","webpack:///./src/hooks/useCurrentUser.ts","webpack:///./src/state/currentDropInItemAtom.ts","webpack:///./src/state/layoutAtom.ts","webpack:///./src/state/widgetMappingAtom.ts"],"sourcesContent":["import {\n  Button,\n  Card,\n  CardBody,\n  CardHeader,\n  CardTitle,\n  Divider,\n  Dropdown,\n  DropdownItem,\n  DropdownList,\n  Flex,\n  HelperText,\n  HelperTextItem,\n  Icon,\n  MenuToggle,\n  MenuToggleElement,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { CompressIcon, EllipsisVIcon, ExpandIcon, GripVerticalIcon, LockIcon, MinusCircleIcon, UnlockIcon } from '@patternfly/react-icons';\nimport React, { Fragment, useMemo, useState } from 'react';\nimport clsx from 'clsx';\n\nimport './GridTile.scss';\nimport { Layout } from 'react-grid-layout';\nimport { ExtendedLayoutItem, WidgetConfiguration } from '../../api/dashboard-templates';\nimport { widgetMappingAtom } from '../../state/widgetMappingAtom';\nimport { getWidget } from '../Widgets/widgetDefaults';\nimport { useAtomValue } from 'jotai';\nimport classNames from 'classnames';\nimport HeaderIcon from '../Icons/HeaderIcon';\n\nexport type SetWidgetAttribute = <T extends string | number | boolean>(id: string, attributeName: keyof ExtendedLayoutItem, value: T) => void;\n\nexport type GridTileProps = React.PropsWithChildren<{\n  widgetType: string;\n  icon?: React.ComponentClass;\n  setIsDragging: (isDragging: boolean) => void;\n  isDragging: boolean;\n  setWidgetAttribute: SetWidgetAttribute;\n  widgetConfig: Layout & {\n    colWidth: number;\n    locked?: boolean;\n    config?: WidgetConfiguration;\n  };\n  removeWidget: (id: string) => void;\n}>;\n\nconst GridTile = ({ widgetType, isDragging, setIsDragging, setWidgetAttribute, widgetConfig, removeWidget }: GridTileProps) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const widgetMapping = useAtomValue(widgetMappingAtom);\n  const { headerLink } = widgetConfig.config || {};\n  const hasHeader = headerLink && headerLink.href && headerLink.title;\n\n  const { node, module, scope } = useMemo(() => {\n    return getWidget(widgetMapping, widgetType);\n  }, [widgetMapping, widgetType]);\n\n  const dropdownItems = useMemo(() => {\n    const isMaximized = widgetConfig.h === widgetConfig.maxH;\n    const isMinimized = widgetConfig.h === widgetConfig.minH;\n    return (\n      <>\n        <DropdownItem\n          onClick={() => {\n            setIsOpen(false);\n            setWidgetAttribute(widgetConfig.i, 'static', !widgetConfig.static);\n          }}\n          icon={widgetConfig.static ? <UnlockIcon /> : <LockIcon />}\n        >\n          {widgetConfig.static ? 'Unlock location and size' : 'Lock location and size'}\n        </DropdownItem>\n        <DropdownItem\n          isDisabled={isMaximized || widgetConfig.static}\n          onClick={() => {\n            setWidgetAttribute(widgetConfig.i, 'h', widgetConfig.maxH ?? widgetConfig.h);\n            setIsOpen(false);\n          }}\n          icon={<ExpandIcon />}\n        >\n          Autosize height to content\n        </DropdownItem>\n        <DropdownItem\n          onClick={() => {\n            setWidgetAttribute(widgetConfig.i, 'h', widgetConfig.minH ?? widgetConfig.h);\n            setIsOpen(false);\n          }}\n          isDisabled={isMinimized || widgetConfig.static}\n          icon={<CompressIcon />}\n        >\n          Minimize height\n        </DropdownItem>\n        <DropdownItem\n          onClick={() => {\n            removeWidget(widgetConfig.i);\n          }}\n          icon={\n            <Icon className=\"pf-v5-u-pb-2xl\" status={widgetConfig.static ? undefined : 'danger'}>\n              <MinusCircleIcon />\n            </Icon>\n          }\n          isDisabled={widgetConfig.static}\n        >\n          Remove\n          <HelperText>\n            <HelperTextItem className=\"pf-v5-u-text-wrap\" variant=\"indeterminate\">\n              {\"All 'removed' widgets can be added back by clicking the 'Add widgets' button.\"}\n            </HelperTextItem>\n          </HelperText>\n        </DropdownItem>\n      </>\n    );\n  }, [widgetConfig.minH, widgetConfig.maxH, widgetConfig.h, widgetConfig.i, widgetConfig.static, setWidgetAttribute]);\n\n  const headerActions = (\n    <>\n      <Tooltip content={<p>Actions</p>}>\n        <Dropdown\n          popperProps={{\n            appendTo: document.body,\n            maxWidth: '300px',\n            position: 'right',\n          }}\n          toggle={(toggleRef: React.Ref<MenuToggleElement>) => (\n            <MenuToggle\n              ref={toggleRef}\n              isExpanded={isOpen}\n              onClick={() => setIsOpen((prev) => !prev)}\n              variant=\"plain\"\n              aria-label=\"Card title inline with images and actions example kebab toggle\"\n            >\n              <EllipsisVIcon aria-hidden=\"true\" />\n            </MenuToggle>\n          )}\n          isOpen={isOpen}\n          onOpenChange={(isOpen: boolean) => setIsOpen(isOpen)}\n        >\n          <DropdownList>{dropdownItems}</DropdownList>\n        </Dropdown>\n      </Tooltip>\n      <Tooltip content={<p>{widgetConfig.static ? 'Widget locked' : 'Move'}</p>}>\n        <Icon\n          onMouseDown={() => setIsDragging(true)}\n          onMouseUp={() => setIsDragging(false)}\n          className={clsx('drag-handle', {\n            dragging: isDragging,\n          })}\n        >\n          <GripVerticalIcon style={{ fill: '#6a6e73' }} />\n        </Icon>\n      </Tooltip>\n    </>\n  );\n\n  return (\n    <Card\n      className={clsx('grid-tile', {\n        static: widgetConfig.static,\n        [scope]: scope && module,\n      })}\n    >\n      <CardHeader actions={{ actions: headerActions }}>\n        <Flex className=\"pf-v5-u-flex-direction-row pf-v5-u-flex-nowrap\">\n          <Icon status=\"custom\" className=\"pf-v5-u-mr-sm\">\n            <HeaderIcon icon={widgetConfig.config?.icon} />\n          </Icon>\n          <CardTitle\n            style={{\n              userSelect: isDragging ? 'none' : 'auto',\n            }}\n            className=\"pf-v5-u-flex-wrap pf-v5-u-text-break-word\"\n          >\n            {widgetConfig?.config?.title || widgetType}\n          </CardTitle>\n          {hasHeader && (\n            <Button className=\"widget-header-link pf-v5-u-p-0\" variant=\"link\" onClick={() => window.open(headerLink.href, '_blank')}>\n              {headerLink.title}\n            </Button>\n          )}\n        </Flex>\n      </CardHeader>\n      <Divider />\n      <CardBody\n        className={classNames('pf-v5-u-p-0', {\n          [`${scope}-${module}`]: scope && module,\n        })}\n      >\n        {node}\n      </CardBody>\n    </Card>\n  );\n};\n\nexport default GridTile;\n","import { WidgetMapping } from '../../api/dashboard-templates';\n\nexport function isWidgetType(widgetMapping: WidgetMapping, type: string): boolean {\n  return Object.keys(widgetMapping).includes(type);\n}\n","import { atom } from 'jotai';\nimport { ExtendedTemplateConfig } from '../api/dashboard-templates';\n\nexport const initialTemplate: ExtendedTemplateConfig = { sm: [], md: [], lg: [], xl: [] };\n\nexport const templateAtom = atom<ExtendedTemplateConfig>(initialTemplate);\n\nexport const templateIdAtom = atom<number>(-1);\n","import 'react-grid-layout/css/styles.css';\nimport './GridLayout.scss';\nimport { Layout, ReactGridLayoutProps, Responsive, ResponsiveProps, WidthProvider } from 'react-grid-layout';\nimport ResizeHandleIcon from './resize-handle.svg';\nimport GridTile, { SetWidgetAttribute } from './GridTile';\nimport { KeyboardEvent, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { isWidgetType } from '../Widgets/widgetTypes';\nimport { useAtom, useAtomValue } from 'jotai';\nimport { currentDropInItemAtom } from '../../state/currentDropInItemAtom';\nimport { widgetMappingAtom } from '../../state/widgetMappingAtom';\nimport { activeItemAtom, layoutAtom, layoutVariantAtom, prevLayoutAtom } from '../../state/layoutAtom';\nimport { templateAtom, templateIdAtom } from '../../state/templateAtom';\nimport React from 'react';\nimport {\n  DashboardTemplate,\n  ExtendedLayoutItem,\n  Variants,\n  getDashboardTemplates,\n  getDefaultTemplate,\n  getWidgetIdentifier,\n  mapPartialExtendedTemplateConfigToPartialTemplateConfig,\n  mapTemplateConfigToExtendedTemplateConfig,\n  patchDashboardTemplate,\n} from '../../api/dashboard-templates';\nimport useCurrentUser from '../../hooks/useCurrentUser';\nimport { useDispatch } from 'react-redux';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { debounce, isEqual } from 'lodash';\nimport {\n  Button,\n  EmptyState,\n  EmptyStateActions,\n  EmptyStateBody,\n  EmptyStateHeader,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  PageSection,\n} from '@patternfly/react-core';\nimport { ExternalLinkAltIcon, GripVerticalIcon, PlusCircleIcon } from '@patternfly/react-icons';\nimport { getWidget } from '../Widgets/widgetDefaults';\n\nexport const dropping_elem_id = '__dropping-elem__';\n\nexport const breakpoints = { xl: 1100, lg: 996, md: 768, sm: 480 };\n\nconst ResponsiveGridLayout = WidthProvider(Responsive);\n\nconst getResizeHandle = (resizeHandleAxis: string, ref: React.Ref<HTMLDivElement>) => {\n  return (\n    <div ref={ref} className={`react-resizable-handle react-resizable-handle-${resizeHandleAxis}`}>\n      <img src={ResizeHandleIcon} />\n    </div>\n  );\n};\n\nconst LayoutEmptyState = () => {\n  return (\n    <PageSection className=\"empty-layout pf-v5-u-p-0\">\n      <EmptyState variant={EmptyStateVariant.lg} className=\"pf-v5-u-p-sm\">\n        <EmptyStateHeader titleText=\"No dashboard content\" headingLevel=\"h2\" icon={<EmptyStateIcon icon={PlusCircleIcon} />} />\n        <EmptyStateBody>\n          You don’t have any widgets on your dashboard. To populate your dashboard, drag <GripVerticalIcon /> items from the blue widget bank to this\n          dashboard body here.\n        </EmptyStateBody>\n        {/* TODO: Add link to documentation once available [HCCDOC-2108]\n        <EmptyStateActions>\n          <Button variant=\"link\" icon={<ExternalLinkAltIcon />} iconPosition=\"end\" component=\"a\" href={`#`}>\n            Learn about your widget dashboard\n          </Button>\n        </EmptyStateActions> */}\n      </EmptyState>\n    </PageSection>\n  );\n};\n\nconst GridLayout = ({ isLayoutLocked = false }: { isLayoutLocked?: boolean }) => {\n  const [isDragging, setIsDragging] = useState(false);\n  const [isInitialRender, setIsInitialRender] = useState(true);\n  const [layout, setLayout] = useAtom(layoutAtom);\n  const [prevLayout, setPrevLayout] = useAtom(prevLayoutAtom);\n  const [layoutVariant, setLayoutVariant] = useAtom(layoutVariantAtom);\n  const [template, setTemplate] = useAtom(templateAtom);\n  const [templateId, setTemplateId] = useAtom(templateIdAtom);\n  const [activeItem, setActiveItem] = useAtom(activeItemAtom);\n  const layoutRef = useRef<HTMLDivElement>(null);\n  const { currentToken } = useCurrentUser();\n  const widgetMapping = useAtomValue(widgetMappingAtom);\n  const dispatch = useDispatch();\n\n  const [currentDropInItem, setCurrentDropInItem] = useAtom(currentDropInItemAtom);\n  const droppingItemTemplate: ReactGridLayoutProps['droppingItem'] = useMemo(() => {\n    if (currentDropInItem && isWidgetType(widgetMapping, currentDropInItem)) {\n      return {\n        ...widgetMapping[currentDropInItem].defaults,\n        i: dropping_elem_id,\n        widgetType: currentDropInItem,\n        title: 'New title',\n        config: widgetMapping[currentDropInItem].config,\n      };\n    }\n  }, [currentDropInItem]);\n\n  const setWidgetAttribute: SetWidgetAttribute = (id, attributeName, value) => {\n    setLayout((prev) => prev.map((item) => (item.i === id ? { ...item, [attributeName]: value } : item)));\n  };\n\n  const removeWidget = (id: string) => {\n    setLayout((prev) => prev.filter((item) => item.i !== id));\n  };\n\n  const onDrop: ReactGridLayoutProps['onDrop'] = (_layout: ExtendedLayoutItem[], layoutItem: ExtendedLayoutItem, event: DragEvent) => {\n    const data = event.dataTransfer?.getData('text') || '';\n    // fix placement order\n    if (isWidgetType(widgetMapping, data)) {\n      const newWidget = {\n        ...layoutItem,\n        ...widgetMapping[data].defaults,\n        // w: layoutItem.x + layoutItem.w > 3 ? 1 : 3,\n        // x: 4 % layoutItem.w,\n        // x: layoutItem.x + layoutItem.w > 3 ? 3 : 0,\n        widgetType: data,\n        i: getWidgetIdentifier(data),\n        title: 'New title',\n        config: widgetMapping[data].config,\n      };\n      setCurrentDropInItem(undefined);\n      setLayout((prev) =>\n        prev.reduce<ExtendedLayoutItem[]>(\n          (acc, curr) => {\n            if (curr.x + curr.w > newWidget.x && curr.y + curr.h <= newWidget.y) {\n              acc.push(curr);\n            } else {\n              // Wee need to push the current items down on the Y axis if they are supposed to be below the new widget\n              acc.push({ ...curr, y: curr.y + curr.h });\n            }\n\n            return acc;\n          },\n          [newWidget]\n        )\n      );\n    }\n    event.preventDefault();\n  };\n\n  const activeLayout = useMemo(\n    () =>\n      layout.map((item) => ({\n        ...item,\n        locked: isLayoutLocked ? isLayoutLocked : item.locked,\n      })),\n    [isLayoutLocked, layout]\n  );\n\n  const onLayoutChange: ResponsiveProps['onLayoutChange'] = (currentLayout: Layout[]) => {\n    if (isInitialRender) {\n      setIsInitialRender(false);\n      return;\n    }\n    if (isLayoutLocked || templateId < 0 || !layoutVariant || currentDropInItem) {\n      return;\n    }\n    // TODO in certain scenarios prevLayout contains additional undefined metadata on each widget causing this check to fail and multiple patches for dropping widgets in\n    if (isEqual(prevLayout, layout)) {\n      return;\n    }\n    const data = mapPartialExtendedTemplateConfigToPartialTemplateConfig({ [layoutVariant]: currentLayout });\n    const debouncedPatchDashboardTemplate = debounce(() => {\n      patchDashboardTemplate(templateId, { templateConfig: data }, currentToken)\n        .then((template: DashboardTemplate) => {\n          const extendedTemplateConfig = mapTemplateConfigToExtendedTemplateConfig(template.templateConfig);\n          setTemplate(extendedTemplateConfig);\n          setPrevLayout(layout);\n          setLayout(extendedTemplateConfig[layoutVariant]);\n        })\n        .catch((err) => {\n          console.error(err);\n          dispatch(\n            addNotification({\n              variant: 'danger',\n              title: 'Failed to patch dashboard configuration',\n              description: 'Your dashboard changes were unable to be saved.',\n            })\n          );\n        });\n    }, 500);\n\n    debouncedPatchDashboardTemplate();\n  };\n\n  const onBreakpointChange: ResponsiveProps['onBreakpointChange'] = (newBreakpoint) => {\n    setLayoutVariant(newBreakpoint as Variants);\n  };\n\n  const onKeyUp = (event: KeyboardEvent<HTMLDivElement>, id: string) => {\n    if (event.code === 'Enter') {\n      event.preventDefault();\n      event.stopPropagation();\n      setActiveItem((prev) => {\n        if (prev === id) {\n          return undefined;\n        }\n        return id;\n      });\n    }\n  };\n\n  const handleArrows = useCallback(\n    (e: globalThis.KeyboardEvent) => {\n      if (!activeItem) {\n        return;\n      }\n\n      const item = layout.find(({ i }) => i === activeItem);\n      if (!item) {\n        return;\n      }\n\n      e.stopPropagation();\n      e.preventDefault();\n\n      const updateLayout = (updatedItem: ExtendedLayoutItem) => {\n        setLayout((prev) => prev.map((layoutItem) => (layoutItem.i === activeItem ? updatedItem : layoutItem)));\n\n        if (isLayoutLocked || templateId < 0 || !layoutVariant || currentDropInItem) {\n          return;\n        }\n\n        const data = mapPartialExtendedTemplateConfigToPartialTemplateConfig({ [layoutVariant]: layout });\n        const debouncedPatchDashboardTemplate = debounce(() => {\n          patchDashboardTemplate(templateId, { templateConfig: data }, currentToken)\n            .then((template: DashboardTemplate) => {\n              const extendedTemplateConfig = mapTemplateConfigToExtendedTemplateConfig(template.templateConfig);\n              setTemplate(extendedTemplateConfig);\n              setPrevLayout(layout);\n              setLayout(extendedTemplateConfig[layoutVariant]);\n            })\n            .catch((err) => {\n              console.error(err);\n              dispatch(\n                addNotification({\n                  variant: 'danger',\n                  title: 'Failed to patch dashboard configuration',\n                  description: 'Your dashboard changes were unable to be saved.',\n                })\n              );\n            });\n        }, 500);\n\n        debouncedPatchDashboardTemplate();\n      };\n\n      if (e.code === 'ArrowUp') {\n        updateLayout({\n          ...item,\n          y: Math.max(item.y - 1, 0),\n        });\n      }\n\n      if (e.code === 'ArrowDown') {\n        updateLayout({\n          ...item,\n          y: item.y + 1,\n        });\n      }\n\n      if (e.code === 'ArrowLeft') {\n        updateLayout({\n          ...item,\n          x: Math.max(item.x - 1, 0),\n        });\n      }\n\n      if (e.code === 'ArrowRight') {\n        updateLayout({\n          ...item,\n          x: item.x + 1,\n        });\n      }\n    },\n    [activeItem, layout, isLayoutLocked, templateId, layoutVariant, currentDropInItem, currentToken, dispatch]\n  );\n\n  useEffect(() => {\n    if (activeItem && layoutRef.current) {\n      layoutRef.current.addEventListener('keydown', handleArrows);\n    }\n    return () => {\n      layoutRef.current?.removeEventListener('keydown', handleArrows);\n    };\n  }, [activeItem]);\n\n  useEffect(() => {\n    if (!currentToken || templateId >= 0) {\n      return;\n    }\n    // TODO template type should be pulled from app config for reusability\n    getDashboardTemplates(currentToken, 'landingPage')\n      .then((templates) => {\n        const defaultTemplate = getDefaultTemplate(templates);\n        if (!defaultTemplate) {\n          throw new Error('No default template found');\n        }\n        const extendedTemplateConfig = mapTemplateConfigToExtendedTemplateConfig(defaultTemplate.templateConfig);\n        const currentWidth = layoutRef?.current?.clientWidth || document.body.clientWidth;\n        let targetVariant: Variants;\n        if (currentWidth > breakpoints.lg) {\n          targetVariant = 'xl';\n        } else if (breakpoints.lg >= currentWidth && currentWidth > breakpoints.md) {\n          targetVariant = 'lg';\n        } else if (breakpoints.md >= currentWidth && currentWidth > breakpoints.sm) {\n          targetVariant = 'md';\n        } else {\n          targetVariant = 'sm';\n        }\n        setTemplate(extendedTemplateConfig);\n        setTemplateId(defaultTemplate.id);\n        setLayout(extendedTemplateConfig[targetVariant]);\n        setLayoutVariant(targetVariant);\n      })\n      .catch((err) => {\n        console.log(err);\n        dispatch(\n          addNotification({\n            variant: 'danger',\n            title: 'Failed to fetch dashboard template',\n            description: 'Try reloading the page.',\n          })\n        );\n      });\n  }, [currentToken, templateId]);\n\n  return (\n    // {/* relative position is required for the grid layout to properly calculate\n    // child translation while dragging is in progress */}\n    <div style={{ position: 'relative' }} ref={layoutRef}>\n      {activeLayout.length === 0 && !currentDropInItem && <LayoutEmptyState />}\n      <ResponsiveGridLayout\n        className=\"layout\"\n        draggableHandle=\".drag-handle\"\n        layouts={template}\n        breakpoints={breakpoints}\n        cols={{ xl: 4, lg: 3, md: 2, sm: 1 }}\n        rowHeight={88}\n        //width={1200}\n        isDraggable={!isLayoutLocked}\n        isResizable={!isLayoutLocked}\n        resizeHandle={getResizeHandle}\n        containerPadding={{ xl: [0, 0], lg: [0, 0], md: [0, 0], sm: [0, 0] }}\n        margin={{ xl: [16, 16], lg: [16, 16], md: [16, 16], sm: [16, 16] }}\n        resizeHandles={['sw', 'nw', 'se', 'ne']}\n        // add droppping item default based on dragged template\n        droppingItem={droppingItemTemplate}\n        isDroppable={!isLayoutLocked}\n        onDrop={onDrop}\n        useCSSTransforms\n        verticalCompact\n        onLayoutChange={onLayoutChange}\n        onBreakpointChange={onBreakpointChange}\n      >\n        {\n          // eslint-disable-next-line @typescript-eslint/no-unused-vars\n          activeLayout.map(({ widgetType, title, ...rest }, index) => {\n            const { config } = getWidget(widgetMapping, widgetType);\n            return (\n              <div\n                key={rest.i}\n                data-grid={rest}\n                onKeyUp={(e) => onKeyUp(e, rest.i)}\n                tabIndex={index}\n                style={{\n                  boxShadow: activeItem === rest.i ? '0 0 2px 2px #2684FF' : 'none',\n                  ...(activeItem === rest.i ? { outline: 'none' } : {}),\n                }}\n                className={`widget-columns-${rest.w}`}\n              >\n                <GridTile\n                  isDragging={isDragging}\n                  setIsDragging={setIsDragging}\n                  widgetType={widgetType}\n                  // these will be dynamically calculated once the dimensions are calculated\n                  widgetConfig={{ ...rest, colWidth: 1200 / 4, config }}\n                  setWidgetAttribute={setWidgetAttribute}\n                  removeWidget={removeWidget}\n                >\n                  {rest.i}\n                </GridTile>\n              </div>\n            );\n          })\n        }\n      </ResponsiveGridLayout>\n    </div>\n  );\n};\n\nexport default GridLayout;\n","import React from 'react';\nimport { BellIcon, CogsIcon, HistoryIcon, OutlinedBookmarkIcon, RocketIcon, StarIcon } from '@patternfly/react-icons';\nimport RhelIcon from './images/RhelIcon';\nimport OpenShiftIcon from './images/OpenShiftIcon';\nimport EdgeIcon from './images/EdgeIcon';\nimport AnsibleIcon from './images/AnsibleIcon';\n\nconst PlaceholderIcon = CogsIcon;\n\nexport enum WidgetIcons {\n  BellIcon = 'BellIcon',\n  HistoryIcon = 'HistoryIcon',\n  OutlinedBookmarkIcon = 'OutlinedBookmarkIcon',\n  RocketIcon = 'RocketIcon',\n  StarIcon = 'StarIcon',\n  RhelIcon = 'RhelIcon',\n  OpenShiftIcon = 'OpenShiftIcon',\n  EdgeIcon = 'EdgeIcon',\n  AnsibleIcon = 'AnsibleIcon',\n}\n\nconst iconEnum: { [key in WidgetIcons]: React.ComponentType } = {\n  BellIcon,\n  HistoryIcon,\n  OutlinedBookmarkIcon,\n  RocketIcon,\n  StarIcon,\n  RhelIcon,\n  OpenShiftIcon,\n  EdgeIcon,\n  AnsibleIcon,\n};\n\nconst HeaderIcon = ({ icon }: { icon?: string }) => {\n  const Icon = iconEnum[icon as WidgetIcons] || PlaceholderIcon;\n  return <Icon />;\n};\n\nexport default HeaderIcon;\n","import React from 'react';\n\nconst RhelIcon = () => {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 52 52\">\n      <g id=\"Widgets\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g id=\"Icons-/-1.-Size-md-/-Object-/-star\" fillRule=\"nonzero\">\n          <path\n            d=\"M39,1 C42.3137085,1 45.3137085,2.34314575 47.4852814,4.51471863 C49.6568542,6.6862915 51,9.6862915 51,13 L51,39 C51,42.3137085 49.6568542,45.3137085 47.4852814,47.4852814 C45.3137085,49.6568542 42.3137085,51 39,51 L13,51 C9.6862915,51 6.6862915,49.6568542 4.51471863,47.4852814 C2.34314575,45.3137085 1,42.3137085 1,39 L1,13 C1,9.6862915 2.34314575,6.6862915 4.51471863,4.51471863 C6.6862915,2.34314575 9.6862915,1 13,1 L39,1 Z\"\n            id=\"Path\"\n            stroke=\"#4D4D4D\"\n            strokeWidth=\"2\"\n            fill=\"#000000\"\n          ></path>\n          <g id=\"Technology_icon-Red_Hat-Enterprise_Linux-Standard-RGB\" transform=\"translate(10.375, 9.3748)\">\n            <path\n              d=\"M15,30.0003676 C14.8524843,30.0003676 14.7049686,29.9631393 14.5712318,29.8886967 L0.594172315,22.1239696 C0.314303313,21.9695503 0.140585191,21.6731354 0.140585191,21.3532851 C0.140585191,21.0334348 0.314303313,20.7370199 0.594172315,20.5826007 L6.10062034,17.5233123 C6.52938857,17.284794 7.06293826,17.4405968 7.30007303,17.8652285 C7.5372078,18.2912438 7.38417209,18.82893 6.9581568,19.0646812 L2.84004199,21.3532851 L15,28.1088236 L27.159958,21.3532851 L23.0418432,19.0646812 C22.6158279,18.82893 22.4627922,18.2912438 22.699927,17.8652285 C22.9370617,17.4405968 23.4706114,17.2848081 23.8993797,17.5233123 L29.4058277,20.5826007 C29.6856967,20.7370199 29.8594148,21.0334348 29.8594148,21.3532851 C29.8594148,21.6731354 29.6856967,21.9695503 29.4058277,22.1239696 L15.4287682,29.8886967 C15.2950314,29.9631393 15.1475157,30.0003676 15,30.0003676 L15,30.0003676 Z\"\n              id=\"Path\"\n              fill=\"#EE0000\"\n            ></path>\n            <path\n              d=\"M15,17.2944646 C14.8524843,17.2944646 14.7049686,17.2572221 14.5712318,17.1827796 L0.594172315,9.41805243 C0.314303313,9.26363319 0.140585191,8.96721826 0.140585191,8.64736797 C0.140585191,8.32751768 0.314303313,8.03110275 0.594172315,7.87668351 L14.5712318,0.111956362 C15,-0.126561939 15.5349332,0.0292408411 15.7706845,0.453872592 C16.0078192,0.879887876 15.8547835,1.41757405 15.4287682,1.65332529 L2.84004199,8.64736797 L15,15.4029065 L28.5482912,7.87669763 C28.978443,7.63817932 29.5119927,7.7939821 29.7477439,8.21861386 C29.9848787,8.64462914 29.831843,9.18231532 29.4058277,9.41806655 L15.4287682,17.1827937 C15.2950314,17.2572363 15.1475157,17.2944646 15,17.2944646 L15,17.2944646 Z\"\n              id=\"Path\"\n              fill=\"#EE0000\"\n            ></path>\n            <path\n              d=\"M8.29548282,13.4906659 C7.98527491,13.4906659 7.6847235,13.3266043 7.52341482,13.0370788 C7.28628005,12.6110635 7.43931577,12.0733774 7.86533105,11.8376261 L17.3947689,6.54349397 C17.8235371,6.30497567 18.3570868,6.46077845 18.5942216,6.8854102 C18.8313564,7.31142549 18.6783207,7.84911167 18.2523054,8.0848629 L8.72286752,13.378995 C8.58637773,13.4548211 8.44023145,13.4906659 8.29548282,13.4906659 L8.29548282,13.4906659 Z\"\n              id=\"Path\"\n              fill=\"#EE0000\"\n            ></path>\n            <path\n              d=\"M15,23.7259881 C14.8524843,23.7259881 14.7049686,23.6887597 14.5712318,23.6143172 L0.453546048,15.771011 C0.0275307633,15.5352598 -0.12550495,14.9975736 0.111629817,14.5715583 C0.346011635,14.1469266 0.883697814,13.9925073 1.31108251,14.2296421 L15,21.8344441 L28.6889175,14.2296421 C29.1163022,13.9925073 29.6512354,14.1469266 29.8883702,14.5715583 C30.1255049,14.9975736 29.9724692,15.5352598 29.546454,15.771011 L15.4287682,23.6143172 C15.2950314,23.6887597 15.1475157,23.7259881 15,23.7259881 Z\"\n              id=\"Path\"\n              fill=\"#FFFFFF\"\n            ></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  );\n};\nexport default RhelIcon as unknown as React.ComponentClass;\n","import React from 'react';\n\nconst OpenShiftIcon = () => {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 38 38\">\n      <defs>\n        <style>\n          {`.a{fill:#fff;}`}\n          {`.b{fill:#e00;}`}\n        </style>\n      </defs>\n      <path d=\"M28,1H10a9,9,0,0,0-9,9V28a9,9,0,0,0,9,9H28a9,9,0,0,0,9-9V10a9,9,0,0,0-9-9Z\" />\n      <path\n        className=\"a\"\n        d=\"M10.09863,22.18994a.625.625,0,0,1-.25488-1.1958l2.74072-1.22021a.62492.62492,0,1,1,.50879,1.1416l-2.74072,1.22021A.619.619,0,0,1,10.09863,22.18994Z\"\n      />\n      <path\n        className=\"a\"\n        d=\"M8.832,25.49072a.625.625,0,0,1-.25488-1.1958l2.74023-1.22021a.62492.62492,0,1,1,.50879,1.1416L9.08594,25.43652A.61731.61731,0,0,1,8.832,25.49072Z\"\n      />\n      <path\n        className=\"a\"\n        d=\"M26.42773,14.91943a.62473.62473,0,0,1-.2539-1.1958L28.915,12.50342a.62472.62472,0,1,1,.50781,1.1416l-2.74121,1.22021A.61563.61563,0,0,1,26.42773,14.91943Z\"\n      />\n      <path\n        className=\"a\"\n        d=\"M25.16113,18.22021a.62473.62473,0,0,1-.2539-1.1958l2.74023-1.22021a.62472.62472,0,1,1,.50781,1.1416L25.415,18.166A.61581.61581,0,0,1,25.16113,18.22021Z\"\n      />\n      <path\n        className=\"b\"\n        d=\"M18.95166,28.63379A9.593,9.593,0,0,1,12.8291,26.4165a.625.625,0,0,1,.7959-.96386,8.37943,8.37943,0,0,0,13.71289-6.1045.61006.61006,0,0,1,.65039-.59814.6249.6249,0,0,1,.59766.65088,9.65521,9.65521,0,0,1-9.63428,9.23291Z\"\n      />\n      <path\n        className=\"b\"\n        d=\"M9.97461,19.22607l-.02881-.00048a.62539.62539,0,0,1-.59619-.65284A9.6291,9.6291,0,0,1,25.10547,11.5835a.62531.62531,0,0,1-.79688.96386,8.37815,8.37815,0,0,0-13.71,6.082A.62532.62532,0,0,1,9.97461,19.22607Z\"\n      />\n    </svg>\n  );\n};\nexport default OpenShiftIcon as unknown as React.ComponentClass;\n","import React from 'react';\n\nconst EdgeIcon = () => {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 42 42\">\n      <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g id=\"Group-8\" fillRule=\"nonzero\">\n          <path\n            d=\"M31.5,0 L10.5,0 C4.70101013,0 0,4.70101013 0,10.5 L0,31.5 C0,37.2989899 4.70101013,42 10.5,42 L31.5,42 C37.2989899,42 42,37.2989899 42,31.5 L42,10.5 C42,4.70101013 37.2989899,0 31.5,0 Z\"\n            id=\"Path\"\n            fill=\"#000000\"\n          ></path>\n          <g id=\"Group-7\" transform=\"translate(8.166667, 10.500000)\">\n            <path\n              d=\"M26.2178899,20.956159 L0.615443425,20.956159 C0.275543407,20.956159 1.03620816e-14,20.7048059 1.03620816e-14,20.3947462 C1.03620816e-14,20.0846864 0.275543407,19.8333333 0.615443425,19.8333333 L26.2178899,19.8333333 C26.5577899,19.8333333 26.8333333,20.0846864 26.8333333,20.3947462 C26.8333333,20.7048059 26.5577899,20.956159 26.2178899,20.956159 L26.2178899,20.956159 Z\"\n              id=\"Path\"\n              fill=\"#EE0000\"\n            ></path>\n            <path\n              d=\"M18.6097954,16.1248075 L9.6954576,16.1248075 C8.28044688,16.1213669 6.98002689,15.3462313 6.30389781,14.1032041 C5.62776874,12.8601768 5.68365161,11.3472973 6.44964312,10.1575392 C7.21563463,8.96778116 8.56969684,8.29069711 9.98110446,8.39167047 C11.0327839,6.4539731 13.250846,5.45940526 15.3972354,5.96310474 C17.5436247,6.46680423 19.0877042,8.34424489 19.1676152,10.5474959 C20.4428733,10.9249698 21.2869872,12.1349323 21.2009473,13.4620973 C21.1149074,14.7892622 20.1216326,15.8801071 18.808311,16.0897638 C18.7448052,16.1133613 18.6775423,16.1252312 18.6097954,16.1248075 Z M9.6954576,9.50281883 C8.17690894,9.50281883 6.94588203,10.7338458 6.94588203,12.2523945 C6.94588203,13.7709433 8.17690894,15.0019747 9.6954576,15.0019747 L18.3546894,15.0019747 C19.2737467,15.0040497 20.0329778,14.2850615 20.0809052,13.3672524 C20.1288325,12.4494432 19.4486167,11.6552881 18.5343415,11.5616321 C18.2345329,11.529532 18.013188,11.2670067 18.0322139,10.9660854 C18.0402982,10.851108 18.0456878,10.7864332 18.0456878,10.7244533 C18.0454303,8.93880251 16.7919134,7.39850414 15.0435526,7.03548504 C13.2951919,6.67246593 11.5320905,7.58641187 10.8209781,9.22435804 C10.7172798,9.46543454 10.4597751,9.60184847 10.2020766,9.55222316 C10.0351192,9.51995464 9.86550366,9.50341412 9.6954576,9.50281883 Z\"\n              id=\"Shape\"\n              fill=\"#FFFFFF\"\n            ></path>\n            <g id=\"Group-2\" transform=\"translate(1.166667, 9.333333)\" fill=\"#EE0000\" stroke=\"#EE0000\">\n              <path\n                d=\"M0.374730956,1.10774728 C0.233685337,1.05777639 0.118244587,0.952783494 0.0541277307,0.816159947 C-0.00998912567,0.6795364 -0.0174555338,0.522632301 0.0333919459,0.380404285 L0.0333919459,0.380404285 C0.0840792057,0.236528339 0.189444598,0.119104272 0.326071553,0.0542285939 C0.462698507,-0.010647084 0.619267717,-0.0175995355 0.760982994,0.0349163634 L0.760982994,0.0349163634 C1.05020736,0.143959365 1.19854024,0.468577396 1.0933394,0.762259357 L1.0933394,0.762259357 C1.01491085,0.989439328 0.801077647,1.13984144 0.563365673,1.13502264 L0.563365673,1.13502264 C0.499537694,1.13488926 0.436042715,1.12570829 0.374730956,1.10774728 Z\"\n                id=\"Path\"\n              ></path>\n              <path\n                d=\"M23.4640626,0.933106332 C23.3668358,0.818896626 23.3187746,0.670073634 23.3305854,0.519789893 C23.3423963,0.369506152 23.413098,0.230245038 23.5269409,0.133029039 L23.5269409,0.133029039 C23.6407706,0.0357305815 23.7883723,-0.0113464898 23.9367496,0.00232184605 C24.085127,0.0159901819 24.2219067,0.0892641114 24.3165119,0.205763338 L24.3165119,0.205763338 C24.5152417,0.444818931 24.4876448,0.801057001 24.2545319,1.00584063 L24.2545319,1.00584063 C24.1508467,1.09164199 24.0201234,1.13682179 23.8862451,1.13312566 L23.8862451,1.13312566 C23.7228354,1.13468341 23.5675527,1.06111442 23.4640626,0.933106332 L23.4640626,0.933106332 Z\"\n                id=\"Path\"\n              ></path>\n            </g>\n            <g id=\"Group-3\" transform=\"translate(0.000000, 14.000000)\" fill=\"#EE0000\" stroke=\"#EE0000\">\n              <path\n                d=\"M25.706847,0.760425724 C25.6527369,0.619708027 25.6575839,0.462790561 25.7202732,0.325760161 C25.7829625,0.188729761 25.8980986,0.0833802605 26.0392034,0.0339392372 L26.0392034,0.0339392372 C26.3293359,-0.0718826109 26.6496918,0.0779063191 26.7578118,0.369939237 L26.7578118,0.369939237 C26.8619626,0.663229184 26.713965,0.98673213 26.4254554,1.09642572 L26.4254554,1.09642572 C26.3623082,1.12167722 26.2948359,1.13402327 26.2269398,1.13275005 L26.2269398,1.13275005 C25.9938629,1.1300416 25.7867703,0.981788067 25.706847,0.760425724 Z\"\n                id=\"Path\"\n              ></path>\n              <ellipse id=\"Oval\" cx=\"0.561412846\" cy=\"0.567567568\" rx=\"1\" ry=\"1\"></ellipse>\n            </g>\n            <g id=\"Group-5\" transform=\"translate(3.500000, 4.666667)\" fill=\"#EE0000\" stroke=\"#EE0000\">\n              <path\n                d=\"M0.206980317,1.02737965 C0.0880463324,0.928374363 0.0141288259,0.786074097 0.00182368823,0.632427979 C-0.0104814495,0.478781861 0.0398568779,0.326664508 0.141536756,0.210229168 L0.141536756,0.210229168 C0.240168887,0.091185766 0.382687748,0.0163277465 0.53727088,0.00236985236 C0.691854012,-0.0115880417 0.845627475,0.0365166262 0.964255818,0.13594276 L0.964255818,0.13594276 C1.20620057,0.345313064 1.23527654,0.708365554 1.02969938,0.953093245 L1.02969938,0.953093245 C0.920397158,1.08811071 0.755374017,1.16664909 0.580943528,1.16666667 L0.580943528,1.16666667 C0.443657101,1.16546481 0.311210944,1.11613368 0.206980317,1.02737965 L0.206980317,1.02737965 Z\"\n                id=\"Path\"\n              ></path>\n              <path\n                d=\"M18.9586574,1.09187234 C18.6806172,0.931181233 18.5844771,0.577860285 18.7430964,0.299672562 L18.7430964,0.299672562 C18.8158031,0.161680778 18.9430997,0.060104648 19.0943203,0.0194141416 C19.2455408,-0.0212763648 19.4069757,0.00260770771 19.5397349,0.0853126204 L19.5397349,0.0853126204 C19.6742763,0.161644902 19.7726691,0.288161274 19.8131278,0.436849412 C19.8535865,0.585537551 19.8327731,0.744130005 19.7552959,0.877512403 L19.7552959,0.877512403 C19.6508424,1.0570411 19.4577688,1.16726208 19.2491961,1.16643232 L19.2491961,1.16643232 C19.1472047,1.1694323 19.0464526,1.14357661 18.9586574,1.09187234 Z\"\n                id=\"Path\"\n              ></path>\n            </g>\n            <g id=\"Group-6\" transform=\"translate(7.000000, 1.166667)\" fill=\"#EE0000\" stroke=\"#EE0000\">\n              <path\n                d=\"M0.0823010949,0.876975617 C0.000590879255,0.743325786 -0.0213597156,0.584415354 0.0213094493,0.435429095 C0.0639786141,0.286442836 0.167747137,0.159672799 0.309639358,0.0831874706 L0.309639358,0.0831874706 C0.450956305,0.00299152788 0.620371459,-0.0204185367 0.780077915,0.0181814971 C0.939784371,0.0567815309 1.07648978,0.154178986 1.15968677,0.28863852 L1.15968677,0.28863852 C1.32789495,0.570187177 1.22685492,0.927135279 0.932348512,1.09176535 L0.932348512,1.09176535 C0.837513468,1.13826152 0.732742392,1.1638068 0.625936071,1.16648602 L0.625936071,1.16648602 C0.403242543,1.16776426 0.196446997,1.05764047 0.0823010949,0.876975617 Z\"\n                id=\"Path\"\n              ></path>\n              <path\n                d=\"M12.058879,1.15710118 C11.8984836,1.13075099 11.7559379,1.04480946 11.6630763,0.918469835 C11.5702147,0.792130213 11.5347726,0.63591655 11.5646654,0.484715929 L11.5646654,0.484715929 C11.5919701,0.332289459 11.6823611,0.196397539 11.8158838,0.107039456 C11.9494065,0.0176813731 12.1150809,-0.0177946416 12.276333,0.00844304151 L12.276333,0.00844304151 C12.6137396,0.0667217002 12.8385835,0.370792499 12.7804309,0.690166979 L12.7804309,0.690166979 C12.7228146,0.966859269 12.4660771,1.16638949 12.167606,1.16643987 L12.167606,1.16643987 C12.1310947,1.16757618 12.0945749,1.16443945 12.058879,1.15710118 Z\"\n                id=\"Path\"\n              ></path>\n            </g>\n            <path\n              d=\"M12.8428959,0.65598577 C12.8154764,0.510521119 12.8475828,0.360137608 12.9320164,0.238553237 C13.01645,0.116968865 13.1461465,0.0343562227 13.2920261,0.00923817156 L13.2920261,0.00923817156 C13.4398419,-0.017887724 13.5923653,0.0152849141 13.7155621,0.101353911 C13.8387589,0.187422907 13.9223765,0.319225473 13.9477563,0.467351054 L13.9477563,0.467351054 C13.9977251,0.771963842 13.7935799,1.06016875 13.4896435,1.11409865 L13.4896435,1.11409865 C13.453713,1.11409865 13.4267652,1.12308126 13.3908348,1.12308126 L13.3908348,1.12308126 C13.1188402,1.12151513 12.8874957,0.924303416 12.8428959,0.65598577 Z\"\n              id=\"Path\"\n              stroke=\"#EE0000\"\n              fill=\"#EE0000\"\n            ></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  );\n};\nexport default EdgeIcon as unknown as React.ComponentClass;\n","import React from 'react';\n\nconst AnsibleIcon = () => {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 38 38\">\n      <defs>\n        <style>{`.a{fill:#fff;}.b{fill:#e00;}`}</style>\n      </defs>\n      <rect x=\"1.6251\" y=\"1.6252\" width=\"34.75\" height=\"34.75\" rx=\"8.375\" />\n      <path d=\"M28,2.25A7.7587,7.7587,0,0,1,35.75,10V28A7.7587,7.7587,0,0,1,28,35.75H10A7.7587,7.7587,0,0,1,2.25,28V10A7.7587,7.7587,0,0,1,10,2.25H28M28,1H10a9,9,0,0,0-9,9V28a9,9,0,0,0,9,9H28a9,9,0,0,0,9-9V10a9,9,0,0,0-9-9Z\" />\n      <path\n        className=\"a\"\n        d=\"M15,23.6252a.6145.6145,0,0,1-.2563-.0557.6245.6245,0,0,1-.313-.8262l2.021-4.4814.0083-.0176L18.43,13.8752a.65.65,0,0,1,1.14,0l4,8.8681a.6251.6251,0,0,1-.9453.7569L17.274,19.4787,15.57,23.257A.6251.6251,0,0,1,15,23.6252Zm2.8013-5.3145,3.6284,2.7276L19,15.6525Z\"\n      />\n      <path\n        className=\"b\"\n        d=\"M19,30.1252A11.125,11.125,0,1,1,30.1251,19,11.1374,11.1374,0,0,1,19,30.1252Zm0-21A9.875,9.875,0,1,0,28.8751,19,9.8859,9.8859,0,0,0,19,9.1252Z\"\n      />\n    </svg>\n  );\n};\nexport default AnsibleIcon as unknown as React.ComponentClass;\n","import { ScalprumComponent } from '@scalprum/react-core';\nimport { WidgetMapping } from '../../api/dashboard-templates';\nimport React, { Fragment } from 'react';\nimport { BellIcon, StarIcon } from '@patternfly/react-icons';\n\nexport const getWidget = (widgetMapping: WidgetMapping, type: string) => {\n  const mappedWidget = widgetMapping[type];\n  return {\n    node: mappedWidget ? <ScalprumComponent {...mappedWidget} /> : <Fragment />,\n    scope: mappedWidget?.scope,\n    module: mappedWidget?.module,\n    importName: mappedWidget?.importName,\n    config: mappedWidget?.config,\n  };\n};\n","import { Layout } from 'react-grid-layout';\nimport { dropping_elem_id } from '../Components/DnDLayout/GridLayout';\nimport { ScalprumComponentProps } from '@scalprum/react-core';\n\nconst getRequestHeaders = (token: string) => ({\n  Accept: 'application/json',\n  Authorization: `Bearer ${token}`,\n  'Content-Type': 'application/json',\n});\n\nexport const widgetIdSeparator = '#';\n\nexport type LayoutTypes = 'landingPage';\n\nexport type Variants = 'sm' | 'md' | 'lg' | 'xl';\n\nexport type LayoutWithTitle = Layout & { title: string };\n\nexport type TemplateConfig = {\n  [k in Variants]: LayoutWithTitle[];\n};\n\nexport type PartialTemplateConfig = Partial<TemplateConfig>;\n\n// extended type the UI tracks but not the backend\nexport type ExtendedLayoutItem = LayoutWithTitle & {\n  widgetType: string;\n  config?: WidgetConfiguration;\n  locked?: boolean;\n};\n\n// extended type the UI tracks but not the backend\nexport type ExtendedTemplateConfig = {\n  [k in Variants]: ExtendedLayoutItem[];\n};\n\n// extended type the UI tracks but not the backend\nexport type PartialExtendedTemplateConfig = Partial<ExtendedTemplateConfig>;\n\nexport type BaseTemplate = {\n  name: string;\n  displayName: string;\n  templateConfig: TemplateConfig;\n};\n\nexport type DashboardTemplate = {\n  id: number;\n  createdAt: string;\n  updatedAt: string;\n  deletedAt: string | null;\n  userIdentityID: number;\n  default: boolean;\n  TemplateBase: {\n    name: string;\n    displayName: string;\n  };\n  templateConfig: TemplateConfig;\n};\n\n// TODO use dynamic-plugin-sdk CustomError as base class instead\nexport class DashboardTemplatesError extends Error {\n  constructor(message: string, readonly status: number, readonly response: Response) {\n    super(message);\n\n    Object.defineProperty(this, 'name', {\n      value: new.target.name,\n      configurable: true,\n    });\n\n    if (typeof Error.captureStackTrace === 'function') {\n      Error.captureStackTrace(this, this.constructor);\n    } else {\n      this.stack = new Error(message).stack;\n    }\n  }\n}\n\nexport type WidgetDefaults = {\n  w: number;\n  h: number;\n  maxH: number;\n  minH: number;\n};\n\nexport type WidgetHeaderLink = {\n  title?: string;\n  href?: string;\n};\n\nexport type WidgetConfiguration = {\n  icon?: string;\n  headerLink?: WidgetHeaderLink;\n  title?: string;\n};\n\nexport type WidgetMapping = {\n  [key: string]: Pick<ScalprumComponentProps, 'scope' | 'module' | 'importName'> & {\n    defaults: WidgetDefaults;\n    config?: WidgetConfiguration;\n  };\n};\n\nconst handleErrors = (resp: Response) => {\n  if (!resp.ok) {\n    throw new DashboardTemplatesError('chrome-service dashboard-templates API fetch error', resp.status, resp);\n  }\n};\n\nexport const getWidgetIdentifier = (widgetType: string, uniqueId: string = crypto.randomUUID()) => {\n  return `${widgetType}${widgetIdSeparator}${uniqueId}`;\n};\n\nexport async function getBaseDashboardTemplate(token: string): Promise<BaseTemplate[]>;\nexport async function getBaseDashboardTemplate(token: string, type: LayoutTypes): Promise<BaseTemplate>;\nexport async function getBaseDashboardTemplate(token: string, type?: LayoutTypes): Promise<BaseTemplate | BaseTemplate[]> {\n  const resp = await fetch(`/api/chrome-service/v1/dashboard-templates/base-template${type ? `?dashboard=${type}` : ''}`, {\n    method: 'GET',\n    headers: getRequestHeaders(token),\n  });\n  handleErrors(resp);\n  const json = await resp.json();\n  return json.data;\n}\n\n// Returns multiple templates for a user (user can have multiple template copies) - we will render the one marked default: true by default\nexport async function getDashboardTemplates(token: string): Promise<DashboardTemplate[]>;\nexport async function getDashboardTemplates(token: string, type: LayoutTypes): Promise<DashboardTemplate[]>;\nexport async function getDashboardTemplates(token: string, type?: LayoutTypes): Promise<DashboardTemplate | DashboardTemplate[]> {\n  const resp = await fetch(`/api/chrome-service/v1/dashboard-templates${type ? `?dashboard=${type}` : ''}`, {\n    method: 'GET',\n    headers: getRequestHeaders(token),\n  });\n  handleErrors(resp);\n  const json = await resp.json();\n  return json.data;\n}\n\nexport async function getWidgetMapping(token: string): Promise<WidgetMapping> {\n  const resp = await fetch(`/api/chrome-service/v1/dashboard-templates/widget-mapping`, {\n    method: 'GET',\n    headers: getRequestHeaders(token),\n  });\n  handleErrors(resp);\n  const json = await resp.json();\n  return json.data;\n}\n\nexport const patchDashboardTemplate = async (\n  templateId: DashboardTemplate['id'],\n  data: { templateConfig: PartialTemplateConfig },\n  token: string\n): Promise<DashboardTemplate> => {\n  const resp = await fetch(`/api/chrome-service/v1/dashboard-templates/${templateId}`, {\n    method: 'PATCH',\n    headers: getRequestHeaders(token),\n    body: JSON.stringify(data),\n  });\n  handleErrors(resp);\n  const json = await resp.json();\n  return json.data;\n};\n\nexport const deleteDashboardTemplate = async (templateId: DashboardTemplate['id'], token: string): Promise<boolean> => {\n  const resp = await fetch(`/api/chrome-service/v1/dashboard-templates/${templateId}`, {\n    method: 'DELETE',\n    headers: getRequestHeaders(token),\n  });\n  handleErrors(resp);\n  return resp.status === 204;\n};\n\nexport const getDefaultTemplate = (templates: DashboardTemplate[]): DashboardTemplate | undefined => {\n  return templates.find((itm) => itm.default === true);\n};\n\nexport const mapWidgetDefaults = (id: string): [string, string] => {\n  const [widgetType, i] = id.split(widgetIdSeparator);\n  return [widgetType, i];\n};\n\nexport const mapLayoutWithTitleToExtendedLayout = (layoutWithTitle: LayoutWithTitle): ExtendedLayoutItem => {\n  return {\n    ...layoutWithTitle,\n    widgetType: mapWidgetDefaults(layoutWithTitle.i)[0],\n  };\n};\n\nexport const mapTemplateConfigToExtendedTemplateConfig = (templateConfig: TemplateConfig): ExtendedTemplateConfig => {\n  const result: ExtendedTemplateConfig = { sm: [], md: [], lg: [], xl: [] };\n  (Object.keys(templateConfig) as Variants[]).forEach((key) => {\n    result[key] = templateConfig[key].map(mapLayoutWithTitleToExtendedLayout);\n  });\n  return result;\n};\n\nexport const mapExtendedLayoutToLayoutWithTitle = (extendedLayoutItem: ExtendedLayoutItem): LayoutWithTitle => {\n  const { x, y, h, i, w, title, maxH, minH, static: isStatic } = extendedLayoutItem;\n  return { x, y, h, i, w, title, maxH, minH, static: isStatic };\n};\n\nexport const mapExtendedTemplateConfigToTemplateConfig = (extendedTemplateConfig: ExtendedTemplateConfig): TemplateConfig => {\n  const result: TemplateConfig = { sm: [], md: [], lg: [], xl: [] };\n  (Object.keys(extendedTemplateConfig) as Variants[]).forEach((key) => {\n    result[key] = extendedTemplateConfig[key].map(mapExtendedLayoutToLayoutWithTitle).filter(({ i }) => i !== dropping_elem_id);\n  });\n  return result;\n};\n\nexport const mapPartialExtendedTemplateConfigToPartialTemplateConfig = (\n  extendedTemplateConfig: PartialExtendedTemplateConfig\n): PartialTemplateConfig => {\n  const result: PartialTemplateConfig = {};\n  (Object.keys(extendedTemplateConfig) as Variants[]).forEach((key) => {\n    result[key] = extendedTemplateConfig[key]?.map(mapExtendedLayoutToLayoutWithTitle).filter(({ i }) => i !== dropping_elem_id);\n  });\n  return result;\n};\n","import { useEffect, useState } from 'react';\n\nconst useLoaded = (loader: () => Promise<void>) => {\n  const [isLoaded, setLoaded] = useState(false);\n  useEffect(() => {\n    (async () => {\n      await loader();\n      setLoaded(true);\n    })();\n  }, []);\n\n  return isLoaded;\n};\n\nexport default useLoaded;\n","import { useState } from 'react';\nimport useLoaded from './useLoaded';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\nimport { ChromeUser } from '@redhat-cloud-services/types';\n\nconst useCurrentUser = () => {\n  const [currentUser, setCurrentUser] = useState<ChromeUser['identity']['user']>(undefined);\n  const [currentToken, setCurrentToken] = useState<string>('');\n  const chrome = useChrome();\n\n  const isLoaded = useLoaded(async () => {\n    const user = await chrome.auth.getUser();\n    if (user) {\n      setCurrentUser(user.identity.user);\n    }\n    const token = await chrome.auth.getToken();\n    if (token) {\n      setCurrentToken(token);\n    }\n  });\n\n  return {\n    isLoaded,\n    currentUser,\n    currentToken,\n  };\n};\n\nexport default useCurrentUser;\n","import { atom } from 'jotai';\n\nexport const currentDropInItemAtom = atom<string | undefined>(undefined);\n","import { isEqual } from 'lodash';\nimport { atom } from 'jotai';\nimport { ExtendedLayoutItem, Variants } from '../api/dashboard-templates';\n\nexport const initialLayout: ExtendedLayoutItem[] = [];\n\nexport function isDefaultLayout(layout: ExtendedLayoutItem[]) {\n  return isEqual(initialLayout, layout);\n}\n\nexport const layoutVariantAtom = atom<Variants>('xl');\n\nexport const layoutAtom = atom<ExtendedLayoutItem[]>(initialLayout);\n\nexport const prevLayoutAtom = atom<ExtendedLayoutItem[]>(initialLayout);\n\nexport const activeItemAtom = atom<string | undefined>(undefined);\n","import { atom } from 'jotai';\nimport type { WidgetMapping } from '../api/dashboard-templates';\n\nexport const widgetMappingAtom = atom<WidgetMapping>({});\n"],"names":["widgetType","isDragging","setIsDragging","setWidgetAttribute","widgetConfig","removeWidget","useState","isOpen","setIsOpen","widgetMapping","useAtomValue","widgetMappingAtom","headerLink","config","hasHeader","href","title","useMemo","node","module","scope","dropdownItems","isMaximized","h","maxH","isMinimized","minH","DropdownItem","onClick","i","static","icon","isDisabled","Icon","className","status","undefined","HelperText","HelperTextItem","variant","headerActions","Tooltip","content","Dropdown","popperProps","appendTo","document","body","maxWidth","position","toggle","toggleRef","MenuToggle","ref","isExpanded","prev","onOpenChange","DropdownList","onMouseDown","onMouseUp","clsx","c","dragging","style","fill","Card","CardHeader","actions","Flex","HeaderIcon","CardTitle","userSelect","Button","window","open","Divider","CardBody","isWidgetType","type","Object","keys","includes","templateAtom","atom","sm","md","lg","xl","templateIdAtom","dropping_elem_id","breakpoints","ResponsiveGridLayout","WidthProvider","Responsive","getResizeHandle","resizeHandleAxis","src","LayoutEmptyState","PageSection","EmptyState","EmptyStateVariant","EmptyStateHeader","titleText","headingLevel","EmptyStateIcon","EmptyStateBody","isLayoutLocked","isInitialRender","setIsInitialRender","useAtom","layoutAtom","layout","setLayout","prevLayout","setPrevLayout","layoutVariant","setLayoutVariant","template","setTemplate","templateId","setTemplateId","activeItem","setActiveItem","layoutRef","useRef","currentToken","useCurrentUser","dispatch","useDispatch","currentDropInItemAtom","currentDropInItem","setCurrentDropInItem","droppingItemTemplate","defaults","id","attributeName","value","map","item","filter","activeLayout","locked","handleArrows","useCallback","e","find","stopPropagation","preventDefault","updateLayout","updatedItem","layoutItem","data","debouncedPatchDashboardTemplate","debounce","templateConfig","then","extendedTemplateConfig","catch","err","console","error","description","code","y","Math","max","x","useEffect","current","addEventListener","removeEventListener","templates","defaultTemplate","Error","targetVariant","currentWidth","clientWidth","log","length","draggableHandle","layouts","cols","rowHeight","isDraggable","isResizable","resizeHandle","containerPadding","margin","resizeHandles","droppingItem","isDroppable","onDrop","_layout","event","dataTransfer","getData","reduce","acc","curr","w","push","useCSSTransforms","verticalCompact","onLayoutChange","currentLayout","isEqual","onBreakpointChange","newBreakpoint","index","rest","key","onKeyUp","tabIndex","boxShadow","outline","colWidth","WidgetIcons","PlaceholderIcon","iconEnum","BellIcon","HistoryIcon","OutlinedBookmarkIcon","RocketIcon","StarIcon","RhelIcon","width","height","viewBox","stroke","strokeWidth","fillRule","d","transform","OpenShiftIcon","EdgeIcon","cx","cy","rx","ry","AnsibleIcon","getWidget","mappedWidget","ScalprumComponent","Fragment","importName","getRequestHeaders","token","Accept","Authorization","message","response","defineProperty","name","configurable","captureStackTrace","constructor","stack","handleErrors","resp","ok","DashboardTemplatesError","getWidgetIdentifier","uniqueId","crypto","randomUUID","getDashboardTemplates","Promise","fetch","method","headers","json","getWidgetMapping","patchDashboardTemplate","JSON","stringify","getDefaultTemplate","itm","default","mapLayoutWithTitleToExtendedLayout","layoutWithTitle","split","mapTemplateConfigToExtendedTemplateConfig","result","forEach","mapExtendedLayoutToLayoutWithTitle","extendedLayoutItem","mapPartialExtendedTemplateConfigToPartialTemplateConfig","loader","isLoaded","setLoaded","currentUser","setCurrentUser","setCurrentToken","chrome","useChrome","auth","getUser","user","identity","getToken","initialLayout","isDefaultLayout","layoutVariantAtom","prevLayoutAtom","activeItemAtom"],"sourceRoot":""}